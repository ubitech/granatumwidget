<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:rich="http://richfaces.org/rich"
                template="/templates/template.xhtml"
                xmlns:fn="http://java.sun.com/jsp/jstl/functions" >

    <ui:define name="content">
<!--      <h:form> -->

            <h:panelGrid columns="2" rendered="#{RelatedInformationBean.conf=='1'}">
                        <rich:panel style="width:110px;"  >
                            <a4j:outputPanel id="tabs" layout="block">
                                <table border="0">
                                    <tr>
                                        <td>
                                            <a4j:outputPanel layout="block" >
                                                <rich:toggleControl event="click" targetPanel="resultsPanel" targetItem="documentsPanel" />
                                                <h:outputLink class="grmenulink" >Publications</h:outputLink>
                                            </a4j:outputPanel>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <a4j:outputPanel layout="block">
                                                <rich:toggleControl event="click" targetPanel="resultsPanel" targetItem="assaysPanel"  />
                                                <h:outputLink class="grmenulink" >Assays</h:outputLink>
                                            </a4j:outputPanel>
                                        </td>
                                    </tr>
                                     </table>
                        </a4j:outputPanel>
                        </rich:panel>

                <rich:panel style="height:300px;width:600px;" rendered="#{RelatedInformationBean.conf=='1'}" >
                            <rich:togglePanel id="resultsPanel"  render="tabs" switchType="client">
                                <rich:togglePanelItem name="documentsPanel">
                                    #{RelatedInformationBean.userRelatedPublications}
                                    <!--<a4j:repeat id="relatedPublicationTable" value="#{RelatedInformationBean.relatedPublicationList}" var="rp">-->
                                    <rich:dataTable id="relatedPublicationTable" value="#{RelatedInformationBean.relatedPublicationList}" var="rp" iterationStatusVar="it"  rows="7" style="width:100%;">
                                    <rich:column>
                                    <f:facet name="header">
                                        Related Material
                                    </f:facet>                                        
                                    <table cellspacing="0" border="0">
                                        <tr>
                                            <td><b>Title: </b><i>#{rp.getString("title")}</i></td>
                                        </tr>
                                        <tr>
                                            <td><b>Link: </b><h:outputLink target="_new" value='#{rp.getString("uri")}'>#{rp.getString("uri")}</h:outputLink></td>
                                        </tr>
                                        <tr>
                                            <td><a href='http://www.granatum.org/bscw/bscw.cgi/#{RelatedInformationBean.homeID}?op=addnote'><img src="http://www.granatum.org/pub/static/icons/action_addnotes.gif"/></a>
                                            <a href="http://www.granatum.org/bscw/bscw.cgi/#{RelatedInformationBean.homeID}?op=addtextdocument"><img src="http://www.granatum.org/pub/static/icons/action_addoc.gif"/></a></td>
                                        </tr>                                        
                                    </table> 
                                    </rich:column>
                                    </rich:dataTable>
                                    <rich:dataScroller boundaryControls="hide" fastControls="hide" for="relatedPublicationTable" maxPages="5" />
                             </rich:togglePanelItem>  

                             <rich:togglePanelItem name="assaysPanel">
                                 #{RelatedInformationBean.userRelatedAssays}
                                 <rich:dataTable id="relatedAssaysTable" value="#{RelatedInformationBean.relatedAssaysList}" var="ap" iterationStatusVar="at"  rows="7" style="width:100%;">
                                    <rich:column>
                                    <table cellspacing="0" border="0">
                                        <tr>
                                            <td><b>Title: </b><i>#{ap.getString("title")}</i></td>
                                        </tr>
                                        <tr>
                                            <td><b>Link: </b><h:outputLink target="_new" value='#{ap.getString("uri")}'>#{ap.getString("uri")}</h:outputLink></td>
                                        </tr>
                                        <tr>
                                            <td><a href='http://www.granatum.org/bscw/bscw.cgi/#{RelatedInformationBean.homeID}?op=addnote'><img src="http://www.granatum.org/pub/static/icons/action_addnotes.gif"/></a>
                                            <a href="http://www.granatum.org/bscw/bscw.cgi/#{RelatedInformationBean.homeID}?op=addtextdocument"><img src="http://www.granatum.org/pub/static/icons/action_addoc.gif"/></a></td>
                                        </tr>                                        
                                    </table> 
                                    </rich:column> 
                                    </rich:dataTable>
                                    <rich:dataScroller boundaryControls="hide" fastControls="hide" for="relatedAssaysTable" maxPages="5" />
                             </rich:togglePanelItem>  

                                                               
                            </rich:togglePanel>
                                
                      </rich:panel>                                

            </h:panelGrid>
<!--    </h:form> -->
    </ui:define>
</ui:composition>
</html>

